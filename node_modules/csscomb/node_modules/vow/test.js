var Q = require('q'),
    Vow = require('./lib/vow'),
    When = require('when');

var d = Q.defer();

d.reject('ok');
//d.promise.then(function(v) { a() }).then();
setTimeout(function() {
    //d.promise.then(null, function(){ console.log('!') });
}, 300)

//var p = Vow.promise();
//p.then(function(v) { a() }).then().then(null, function(){ console.log('!') })
//p.fulfill('ok');

//var d = Vow.promise();
//
//d.fail(function(e) {
//    console.log('rejected');
//});
//
//d.then(null, null, function(v) {
//    console.log(v);
//    return 'D';
//}).then(function(v) {
//    console.log(v);
//});
//
//d.notify(1);
//console.log('1-2');
//d.notify(2);
//d.fulfill('R');
//d.notify(3);
//

//var d = Q.defer();
//
//var p = d.promise.then(null, null, function() {
//    throw Error('err');
//});
//
//p.then(
//    function(v) {
//       console.log('f', v);
//    },
//    null,
//    function(v) {
//       console.log(v);
//    });
//
//d.notify(1);

//var promise = Vow.promise();
//
//promise.then(function() {
//    console.log('3');
//});
//
//process.nextTick(function() {
//    process.nextTick(function() {
//        console.log('4');
//        process.nextTick(function() {
//            console.log('7');
//        });
//        promise.then(function() {
//            console.log('8');
//        });
//    });
//
//    promise.then(function() {
//        console.log('5');
//    });
//
//    promise.then(function() {
//        console.log('6');
//    });
//
//    console.log('2');
//});
//
//console.log('1');
//promise.fulfill();